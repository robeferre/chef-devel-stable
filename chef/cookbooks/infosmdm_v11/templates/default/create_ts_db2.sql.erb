-- ---------------------------------------------------- {COPYRIGHT-TOP} -----
-- Licensed Materials - Property of IBM
-- Restricted Materials of IBM
--
-- 5725-E59
--;
-- (C) Copyright IBM Corp. 2008, 2011  All Rights Reserved.
--
-- US Government Users Restricted Rights - Use, duplication, or
-- disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
-- ---------------------------------------------------- {COPYRIGHT-END} -----
-- Please Replace the following tags with their appropriate values --
-- <DBNAME> : The name of the DB2 Database to create
-- <DBUSER>: The user name that will own the schema
-- <TABLE_MDS4K> : The tablespace name for user tables 4K reference on sto files as <TBS4K>
-- <TABLE_SPACE> : The tablespace name for user tables 8K reference on sto files as <TBS8K>
-- <TABLE_SPMDS> : The tablespace name for MDS user tables 16K reference on sto files as <TBS16K>
-- <INDEX_SPACE> : The tablespace name for user indexes. This should be replaced with INDEXSPACE1
-- <LONG_SPACE>:  The tablespace name for CLOB/XML columns. This should be replaced with LONGSPACE1
-- <TABLE_SPPMD>:  The tablespace name for CLOB/XML columns. This should be replaced with EMESPACE1
-- <TABLE_SPPMI>:  The tablespace name for CLOB/XML columns. This should be replaced with EMESPACE2



CONNECT TO MDM11DB;

-- Please replace the values for size according the local environment  --

CREATE BUFFERPOOL "B4K_MDS" SIZE 2000 AUTOMATIC PAGESIZE 4K;
CREATE BUFFERPOOL "BUF_MDM" SIZE 20000 AUTOMATIC PAGESIZE 8K;
CREATE BUFFERPOOL "BUF_EMEIND" SIZE 10000 AUTOMATIC PAGESIZE 8K;
CREATE BUFFERPOOL "BUF_MDS" SIZE 10000 AUTOMATIC PAGESIZE 16K;
CREATE BUFFERPOOL "BUF_LONG" SIZE 10000 AUTOMATIC PAGESIZE 32K;

CREATE TABLESPACE TBS4K PAGESIZE 4K MANAGED BY AUTOMATIC STORAGE 
INITIALSIZE 512 M AUTORESIZE YES INCREASESIZE 512 M 
EXTENTSIZE 32 
PREFETCHSIZE 384 
BUFFERPOOL B4K_MDS; 

CREATE TABLESPACE TBS8K PAGESIZE 8K MANAGED BY AUTOMATIC STORAGE 
INITIALSIZE 512 M AUTORESIZE YES INCREASESIZE 1024 M 
EXTENTSIZE 32 
PREFETCHSIZE 384 
BUFFERPOOL BUF_MDM; 

CREATE TABLESPACE TBS16K PAGESIZE 16K MANAGED BY AUTOMATIC STORAGE 
INITIALSIZE 512 M AUTORESIZE YES INCREASESIZE 1024 M 
EXTENTSIZE 32 
PREFETCHSIZE 384 
BUFFERPOOL BUF_MDS; 

CREATE TABLESPACE INDEXSPACE1 PAGESIZE 8K MANAGED BY AUTOMATIC STORAGE 
INITIALSIZE  512 M AUTORESIZE YES INCREASESIZE 1024 M 
EXTENTSIZE 32 
PREFETCHSIZE 384 
BUFFERPOOL BUF_MDM; 

CREATE TABLESPACE EMESPACE1 PAGESIZE 8K MANAGED BY AUTOMATIC STORAGE 
INITIALSIZE  512 M AUTORESIZE YES INCREASESIZE 1024 M 
EXTENTSIZE 32 
PREFETCHSIZE 384 
BUFFERPOOL BUF_MDM; 


CREATE TABLESPACE EMESPACE2 PAGESIZE 8K MANAGED BY AUTOMATIC STORAGE 
INITIALSIZE  512 M AUTORESIZE YES INCREASESIZE 1024 M 
EXTENTSIZE 32 
PREFETCHSIZE 384 
BUFFERPOOL BUF_EMEIND; 


CREATE TEMPORARY TABLESPACE TMPSPACE1 PAGESIZE 32K MANAGED BY AUTOMATIC STORAGE 
PREFETCHSIZE 64 
BUFFERPOOL BUF_LONG; 

CREATE TEMPORARY TABLESPACE TMPSPACE2 PAGESIZE 16K MANAGED BY AUTOMATIC STORAGE 
PREFETCHSIZE 64 
BUFFERPOOL BUF_MDS; 

CREATE TEMPORARY TABLESPACE TMPSPACE3 PAGESIZE 8K MANAGED BY AUTOMATIC STORAGE 
PREFETCHSIZE 64 
BUFFERPOOL BUF_MDM; 

CREATE TEMPORARY TABLESPACE TMPSPACE4 PAGESIZE 4K MANAGED BY AUTOMATIC STORAGE 
PREFETCHSIZE 64 
BUFFERPOOL B4K_MDS; 


CREATE TABLESPACE LONGSPACE1 PAGESIZE 32K MANAGED BY AUTOMATIC STORAGE 
INITIALSIZE 1024 M AUTORESIZE YES INCREASESIZE 1024 M 
BUFFERPOOL BUF_LONG; 

ALTER TABLESPACE TBS4K NO FILE SYSTEM CACHING;
ALTER TABLESPACE TBS8K NO FILE SYSTEM CACHING;
ALTER TABLESPACE TBS16K NO FILE SYSTEM CACHING;
ALTER TABLESPACE INDEXSPACE1 NO FILE SYSTEM CACHING;
ALTER TABLESPACE EMESPACE1 NO FILE SYSTEM CACHING;
ALTER TABLESPACE EMESPACE2 NO FILE SYSTEM CACHING;
ALTER TABLESPACE LONGSPACE1 NO FILE SYSTEM CACHING;

RESTART DATABASE MDM11DB;

GRANT CREATETAB,BINDADD,CONNECT,CREATE_NOT_FENCED,IMPLICIT_SCHEMA,LOAD ON DATABASE TO USER db2inst1;
GRANT USE OF TABLESPACE TBS4K TO USER db2inst1;
GRANT USE OF TABLESPACE TBS8K TO USER db2inst1;
GRANT USE OF TABLESPACE TBS16K TO USER db2inst1;
GRANT USE OF TABLESPACE INDEXSPACE1 TO USER db2inst1;
GRANT USE OF TABLESPACE EMESPACE1 TO USER db2inst1;
GRANT USE OF TABLESPACE EMESPACE2 TO USER db2inst1;
GRANT USE OF TABLESPACE LONGSPACE1 TO USER db2inst1;

REVOKE USE OF TABLESPACE USERSPACE1 FROM PUBLIC;
REVOKE CREATETAB,BINDADD,CONNECT,IMPLICIT_SCHEMA ON DATABASE FROM PUBLIC;

TERMINATE;